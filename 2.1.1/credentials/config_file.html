<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configurations &mdash; jenkins-pipeline-library 2.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Jenkins: storing secrets" href="jenkins.html" />
    <link rel="prev" title="JePL credentials" href="intro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> jenkins-pipeline-library
          </a>
              <div class="version">
                2.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/layout.html">Layout</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/config_file.html">The configuration file: config.yml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/docker_compose.html">The services: docker-compose.yml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/jenkinsfile.html">The pipeline: Jenkinsfile</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Step-by-step guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/step_by_step/intro.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/step_by_step/min_configuration.html">A minimal configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/step_by_step/sqa_criteria.html">The <code class="docutils literal notranslate"><span class="pre">sqa_criteria</span></code> setting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/step_by_step/ending.html">Last steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using credentials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">JePL credentials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#config-yml-configuring-credentials">config.yml: configuring credentials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jenkins.html">Jenkins: storing secrets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples in production</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/examples/jpl_validator.html">jpl-validator</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contrib/documentation.html">Contributing with docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">jenkins-pipeline-library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Configurations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/credentials/config_file.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configurations">
<h1>Configurations<a class="headerlink" href="#configurations" title="Permalink to this headline"></a></h1>
<section id="config-yml-configuring-credentials">
<h2>config.yml: configuring credentials<a class="headerlink" href="#config-yml-configuring-credentials" title="Permalink to this headline"></a></h2>
<p>In Jenkins configurations section is explained how to add the required
<code class="docutils literal notranslate"><span class="pre">credentials</span></code>. Here is explained how to use credentials with JePL itself. <em>config</em>
section of <em>config.yml</em> supports the keyword credentials that allows to define
an array of credentials of the following types:</p>
<ul class="simple">
<li><p>secret text</p></li>
<li><p>username and password</p></li>
<li><p>secret file</p></li>
<li><p>ssh username with private key</p></li>
<li><p>certificate</p></li>
</ul>
<p>The difference between them are the keywords for each one. The association is
made by the credentials id from Jenkins, where the credential type is defined.
The following table resumes the required parameters for each case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Credential Type</p></th>
<th class="head"><p>Properties</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>secret text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: jenkins identifier</p>
<p><code class="docutils literal notranslate"><span class="pre">variable</span></code>: environment variable with
secret</p>
</td>
</tr>
<tr class="row-odd"><td><p>username and password</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: jenkins identifier</p>
<p><code class="docutils literal notranslate"><span class="pre">username_var</span></code>: environment variable for
username</p>
<p><code class="docutils literal notranslate"><span class="pre">password_var</span></code>: environment variable to
receive the password</p>
</td>
</tr>
<tr class="row-even"><td><p>secret file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: jenkins identifier</p>
<p><code class="docutils literal notranslate"><span class="pre">variable</span></code>: environment variable with file
content.</p>
</td>
</tr>
<tr class="row-odd"><td><p>ssh username with private key</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: jenkins identifier</p>
<p><code class="docutils literal notranslate"><span class="pre">keyfile_var</span></code>: environment variable to
receive the private key</p>
<p><code class="docutils literal notranslate"><span class="pre">passphrase_var</span></code>: environment variable to
receive the private key passphrase</p>
<p><code class="docutils literal notranslate"><span class="pre">username_var</span></code>: environment variable for
username</p>
</td>
</tr>
<tr class="row-even"><td><p>certificate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: jenkins identifier</p>
<p><code class="docutils literal notranslate"><span class="pre">keystore_var</span></code>: environment variable set
to the keystore temporary location</p>
<p><code class="docutils literal notranslate"><span class="pre">alias_var</span></code>: environment variable set to
the keystore alias name of the certificate</p>
<p><code class="docutils literal notranslate"><span class="pre">password_var</span></code>: environment variable to
receive the password</p>
</td>
</tr>
</tbody>
</table>
<p>In the next configuration examples, the values there have the following meaning:</p>
<ul class="simple">
<li><p><em>jenkins_credential_id</em>: this is the id associated to the Jenkins credential</p></li>
<li><p><em>ENV_*</em>: name of the environment variable to be set with the correspondent value defined in Jenkins credential</p></li>
</ul>
<dl>
<dt><em>Examples:</em></dt><dd><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Secret text</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Username and password</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Secret file</button><button aria-controls="panel-0-0-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-3" name="0-3" role="tab" tabindex="-1">SSH Username with private key</button><button aria-controls="panel-0-0-4" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-4" name="0-4" role="tab" tabindex="-1">Certificate</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">credentials</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jenkins_credential_id</span><span class="w"></span>
<span class="w">      </span><span class="nt">variable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_VAR</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">credentials</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jenkins_credential_id</span><span class="w"></span>
<span class="w">      </span><span class="nt">username_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_USER</span><span class="w"></span>
<span class="w">      </span><span class="nt">password_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_PASS</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">credentials</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jenkins_credential_id</span><span class="w"></span>
<span class="w">      </span><span class="nt">variable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_VAR_FILE</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-3" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-3" name="0-3" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">credentials</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jenkins_credential_id</span><span class="w"></span>
<span class="w">      </span><span class="nt">keyfile_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_PRIVATE_KEY</span><span class="w"></span>
<span class="w">      </span><span class="nt">passphrase_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_PASS</span><span class="w"></span>
<span class="w">      </span><span class="nt">username_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_USER</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-4" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-4" name="0-4" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">credentials</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jenkins_credential_id</span><span class="w"></span>
<span class="w">      </span><span class="nt">keystore_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_KEYSTORE</span><span class="w"></span>
<span class="w">      </span><span class="nt">alias_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_CERT_ALIAS</span><span class="w"></span>
<span class="w">      </span><span class="nt">password_var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENV_PASS</span><span class="w"></span>
</pre></div>
</div>
</div></div>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro.html" class="btn btn-neutral float-left" title="JePL credentials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="jenkins.html" class="btn btn-neutral float-right" title="Jenkins: storing secrets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, EOSC-Synergy project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 2.1.1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../2.0.0/index.html">2.0.0</a></dd>
      <dd><a href="config_file.html">2.1.1</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../release/2.1.0/credentials/config_file.html">release/2.1.0</a></dd>
      <dd><a href="../../release/2.1.1/credentials/config_file.html">release/2.1.1</a></dd>
      <dd><a href="../../stable/2.0.0/index.html">stable/2.0.0</a></dd>
      <dd><a href="../../stable/2.1.0/credentials/config_file.html">stable/2.1.0</a></dd>
      <dd><a href="../../stable/2.1.1/credentials/config_file.html">stable/2.1.1</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>